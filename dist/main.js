(()=>{"use strict";function t(t){const e=Math.floor(t),o=t%1!=0;return Array(e).fill('<i class="fas fa-star" style="color: #ffff00;"></i>').join("")+(o?'<i class="fas fa-star-half-alt" style="color: #ffff00;"></i>':"")+Array(5-e-(o?1:0)).fill('<i class="far fa-star"></i>').join("")}const e="AIzaSyD5olFns5h9FLIMdSEF5iZDIkDVxAEjz4I",o=document.querySelector(".products-container"),n=document.querySelector(".load-btn__container"),i=document.querySelectorAll(".book-genres__link");let c=0;function s(i){let s=0;const r=()=>{s+=6,fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${i.target.innerText}"&key=${e}&printType=books&startIndex=${s}&maxResults=6&langRestrict=en`).then((t=>t.json())).then((e=>{e.items.forEach((e=>{const n=`<div class="product">\n                        <div class="product-img__container">\n                            <img src=${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"img/placeholder.png"} class="product-img" alt="book">\n                        </div>\n                        <div class ="product-description__container">\n                            <p class="product-img__description author">${e.volumeInfo.authors?e.volumeInfo.authors:"Unknown Author"}</p>\n                            <p class="product-img__description product-title">${e.volumeInfo.title?e.volumeInfo.title:"Unknown Book Name"}</p>\n                            ${e.volumeInfo.averageRating?`<p class="product-img__description about-book rating">${t(e.volumeInfo.averageRating)}</p>`:""}\n                             <p class="product-img__description about-book truncate">${e.volumeInfo.description?e.volumeInfo.description:"No Description Available"}</p>\n                            ${e.volumeInfo.price?`<p class="product-img__description product-price">${e.volumeInfo.price}</p>`:""}\n                            <button class="product-btn buy-btn" id="s">Buy now</button>\n                        </div>\n                    </div>`;o.innerHTML+=n,function(){const t=document.querySelectorAll(".buy-btn"),e=document.getElementById("cart-count"),o=document.getElementById("cart-count");t.forEach((t=>{t.addEventListener("click",(()=>{0==c&&o.classList.add("active-bag"),c++,e.textContent=c}))}))}()}))}))};fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${i.target.innerText}"&key=${e}&printType=books&startIndex=${s}&maxResults=6&langRestrict=en`).then((t=>t.json())).then((e=>{o.innerHTML="",e.items.forEach((e=>{const n=`<div class="product">\n                <div class="product-img__container">\n                    <img src=${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"img/placeholder.png"} class="product-img" alt="book">\n                </div>\n                <div class ="product-description__container">\n                    <p class="product-img__description author">${e.volumeInfo.authors?e.volumeInfo.authors:"Unknown Author"}</p>\n                    <p class="product-img__description product-title">${e.volumeInfo.title?e.volumeInfo.title:"Unknown Book Name"}</p>\n                    ${e.volumeInfo.averageRating?`<p class="product-img__description about-book rating">${t(e.volumeInfo.averageRating)}</p>`:""}\n                     <p class="product-img__description about-book truncate">${e.volumeInfo.description?e.volumeInfo.description:"No Description Available"}</p>\n                    ${e.volumeInfo.price?`<p class="product-img__description product-price">${e.volumeInfo.price}</p>`:""}\n                    <button class="product-btn buy-btn" id = "s">Buy now</button>\n                </div>\n            </div>`;o.innerHTML+=n,function(){const t=document.querySelectorAll(".buy-btn"),e=document.getElementById("cart-count"),o=document.getElementById("cart-count");t.forEach((t=>{t.addEventListener("click",(()=>{0==c&&o.classList.add("active-bag"),c++,e.textContent=c}))}))}()})),n.addEventListener("click",r)}))}i.forEach((t=>{t.addEventListener("click",s)})),i.forEach((t=>{t.addEventListener("click",(()=>{i.forEach((t=>t.classList.remove("book-genres__active"))),t.classList.add("book-genres__active")}))})),window.addEventListener("load",(()=>{document.querySelector(".book-genres__active").click()}));let r=document.getElementsByClassName("slider-dot"),a=document.getElementsByClassName("slider-dots")[0],l=document.getElementsByClassName("slider"),d=1;function u(t){t<1?d=l.length:t>l.length&&(d=1);for(let t=0;t<l.length;t++)l[t].style.display="none";for(let t=0;t<r.length;t++)r[t].classList.remove("slider-dot__active");l[d-1].style.display="block",r[d-1].classList.add("slider-dot__active")}u(d),a.onclick=function(t){for(let e=0;e<r.length+1;e++)t.target.classList.contains("slider-dot")&&t.target==r[e-1]&&u(d=e)},setInterval((function(){u(d+=1)}),5e3)})();