(()=>{"use strict";function t(t){const e=Math.floor(t),o=t%1!=0;return Array(e).fill('<i class="fas fa-star" style="color: #ffff00;"></i>').join("")+(o?'<i class="fas fa-star-half-alt" style="color: #ffff00;"></i>':"")+Array(5-e-(o?1:0)).fill('<i class="far fa-star"></i>').join("")}const e="AIzaSyD5olFns5h9FLIMdSEF5iZDIkDVxAEjz4I",o=document.querySelector(".products-container"),n=document.querySelector(".load-btn__container"),c=document.querySelectorAll(".product-genres__link");let s=0;function i(c){let i=0;const r=()=>{i+=6,fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${c.target.innerText}"&key=${e}&printType=books&startIndex=${i}&maxResults=6&langRestrict=en`).then((t=>t.json())).then((e=>{e.items.forEach((e=>{const n=`<div class="product">\n                        <div class="product-img__container">\n                            <img src=${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"./src/img/placeholders/placeholder.png"} class="product-img" alt="book">\n                        </div>\n                        <div class ="product-description__container">\n                            <p class="product-description author truncate">${e.volumeInfo.authors?e.volumeInfo.authors:"Unknown Author"}</p>\n                            <p class="product-description product-title truncate-fourth">${e.volumeInfo.title?e.volumeInfo.title:"Unknown Book Name"}</p>\n                            ${e.volumeInfo.averageRating?`<p class="product-description about-book rating">${t(e.volumeInfo.averageRating)}</p>`:""}\n                             <p class="product-description about-book truncate">${e.volumeInfo.description?e.volumeInfo.description:"No Description Available"}</p>\n                            ${e.volumeInfo.price?`<p class="product-description product-price">${e.volumeInfo.price}</p>`:""}\n                            <button class="product-btn buy-btn" id="s">Buy now</button>\n                        </div>\n                    </div>`;o.innerHTML+=n,function(){const t=document.querySelectorAll(".buy-btn"),e=document.getElementById("cart-count"),o=document.getElementById("cart-count");t.forEach((t=>{t.addEventListener("click",(()=>{0==s&&o.classList.add("active-bag"),s++,e.textContent=s}))}))}()}))}))};fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${c.target.innerText}"&key=${e}&printType=books&startIndex=${i}&maxResults=6&langRestrict=en`).then((t=>t.json())).then((e=>{o.innerHTML="",e.items.forEach((e=>{const n=`<div class="product">\n                <div class="product-img__container">\n                    <img src=${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"./src/img/placeholders/placeholder.png"} class="product-img" alt="book">\n                </div>\n                <div class ="product-description__container">\n                    <p class="product-description author truncate">${e.volumeInfo.authors?e.volumeInfo.authors:"Unknown Author"}</p>\n                    <p class="product-description product-title truncate-fourth">${e.volumeInfo.title?e.volumeInfo.title:"Unknown Book Name"}</p>\n                    ${e.volumeInfo.averageRating?`<p class="product-description about-book rating">${t(e.volumeInfo.averageRating)}</p>`:""}\n                     <p class="product-description about-book truncate">${e.volumeInfo.description?e.volumeInfo.description:"No Description Available"}</p>\n                    ${e.volumeInfo.price?`<p class="product-description product-price">${e.volumeInfo.price}</p>`:""}\n                    <button class="product-btn buy-btn" id = "s">Buy now</button>\n                </div>\n            </div>`;o.innerHTML+=n,function(){const t=document.querySelectorAll(".buy-btn"),e=document.getElementById("cart-count"),o=document.getElementById("cart-count");t.forEach((t=>{t.addEventListener("click",(()=>{0==s&&o.classList.add("active-bag"),s++,e.textContent=s}))}))}()})),n.addEventListener("click",r)}))}c.forEach((t=>{t.addEventListener("click",i)})),c.forEach((t=>{t.addEventListener("click",(()=>{c.forEach((t=>t.classList.remove("product-genres__active"))),t.classList.add("product-genres__active")}))})),window.addEventListener("load",(()=>{document.querySelector(".product-genres__active").click()}));let r=document.getElementsByClassName("slider-dot"),a=document.getElementsByClassName("slider-dots")[0],l=document.getElementsByClassName("slider"),u=1;function d(t){t<1?u=l.length:t>l.length&&(u=1);for(let t=0;t<l.length;t++)l[t].style.display="none";for(let t=0;t<r.length;t++)r[t].classList.remove("slider-dot__active");l[u-1].style.display="block",r[u-1].classList.add("slider-dot__active")}d(u),a.onclick=function(t){for(let e=0;e<r.length+1;e++)t.target.classList.contains("slider-dot")&&t.target==r[e-1]&&d(u=e)},setInterval((function(){d(u+=1)}),5e3)})();